<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Budapest Ker√ºletek T√©rk√©pe</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f5f5f5;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        
        .header {
            background: #d73027;
            color: white;
            padding: 20px;
            text-align: center;
        }
        
        .header h1 {
            margin: 0;
            font-size: 24px;
        }
        
        .header p {
            margin: 10px 0 0 0;
            opacity: 0.9;
        }
        
        #map {
            height: 600px;
            width: 100%;
            background: #e0e0e0;
        }
        
        .info {
            padding: 20px;
            background: #f8f9fa;
            text-align: center;
        }
        
        .districts-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 10px;
            margin-top: 20px;
        }
        
        .district-item {
            background: white;
            padding: 10px;
            border-radius: 5px;
            text-align: center;
            border: 2px solid #ddd;
            transition: border-color 0.3s;
        }
        
        .district-item:hover {
            border-color: #d73027;
        }
        
        .loading {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 600px;
            font-size: 18px;
            color: #666;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üèõÔ∏è Budapest Ker√ºletek T√©rk√©pe</h1>
            <p>Mind a 23 ker√ºlet k√∂zpontja jel√∂lve</p>
        </div>
        
        <div id="map">
            <div class="loading">üìç T√©rk√©p bet√∂lt√©se...</div>
        </div>
        
        <div class="info">
            <h3>Budapest 23 ker√ºlete</h3>
            <div class="districts-grid" id="districtsGrid">
                <!-- JavaScript t√∂lti fel -->
            </div>
        </div>
    </div>

    <script>
        // Budapest ker√ºleteinek adatai (n√©v, koordin√°t√°k)
        const budapestDistricts = [
            { district: "I.", name: "Budav√°ri", lat: 47.4969, lng: 19.0395 },
            { district: "II.", name: "R√≥zsadomb", lat: 47.5167, lng: 19.0258 },
            { district: "III.", name: "√ìbuda-B√©k√°smegyer", lat: 47.5406, lng: 19.0531 },
            { district: "IV.", name: "√öjpest", lat: 47.5616, lng: 19.0884 },
            { district: "V.", name: "Belv√°ros-Lip√≥tv√°ros", lat: 47.4983, lng: 19.0514 },
            { district: "VI.", name: "Ter√©zv√°ros", lat: 47.5057, lng: 19.0658 },
            { district: "VII.", name: "Erzs√©betv√°ros", lat: 47.4979, lng: 19.0708 },
            { district: "VIII.", name: "J√≥zsefv√°ros", lat: 47.4867, lng: 19.0700 },
            { district: "IX.", name: "Ferencv√°ros", lat: 47.4767, lng: 19.0814 },
            { district: "X.", name: "K≈ëb√°nya", lat: 47.4758, lng: 19.1447 },
            { district: "XI.", name: "√öjbuda", lat: 47.4736, lng: 19.0394 },
            { district: "XII.", name: "Hegyvid√©k", lat: 47.5089, lng: 18.9897 },
            { district: "XIII.", name: "Angyalf√∂ld", lat: 47.5306, lng: 19.0706 },
            { district: "XIV.", name: "Zugl√≥", lat: 47.5175, lng: 19.1036 },
            { district: "XV.", name: "R√°kospalota", lat: 47.5708, lng: 19.1192 },
            { district: "XVI.", name: "M√°ty√°sf√∂ld", lat: 47.5133, lng: 19.1533 },
            { district: "XVII.", name: "R√°kosmente", lat: 47.4817, lng: 19.2558 },
            { district: "XVIII.", name: "Pestszentl≈ërinc", lat: 47.4356, lng: 19.1756 },
            { district: "XIX.", name: "Kispest", lat: 47.4472, lng: 19.1394 },
            { district: "XX.", name: "Pesterzs√©bet", lat: 47.4422, lng: 19.1072 },
            { district: "XXI.", name: "Csepel", lat: 47.4244, lng: 19.0775 },
            { district: "XXII.", name: "Budafok-T√©t√©ny", lat: 47.4294, lng: 19.0333 },
            { district: "XXIII.", name: "Soroks√°r", lat: 47.4081, lng: 19.1447 }
        ];

        let map;
        let markers = [];

        // T√©rk√©p inicializ√°l√°sa
        function initMap() {
            // Budapest k√∂zpont
            const budapest = { lat: 47.4979, lng: 19.0402 };

            map = new google.maps.Map(document.getElementById("map"), {
                zoom: 11,
                center: budapest,
                mapTypeId: 'roadmap',
                styles: [
                    {
                        "featureType": "administrative.country",
                        "elementType": "geometry.stroke",
                        "stylers": [{"color": "#d73027"}]
                    }
                ]
            });

            // √ñsszes ker√ºlet jel√∂l≈ëj√©nek hozz√°ad√°sa
            budapestDistricts.forEach((district, index) => {
                setTimeout(() => {
                    addDistrictMarker(district, index);
                }, index * 100); // Anim√°lt megjelen√©s
            });

            // Ker√ºletek list√°j√°nak felt√∂lt√©se
            populateDistrictsList();
        }

        // Ker√ºlet jel√∂l≈ë hozz√°ad√°sa
        function addDistrictMarker(district, index) {
            const marker = new google.maps.Marker({
                position: { lat: district.lat, lng: district.lng },
                map: map,
                title: `${district.district} ${district.name}`,
                animation: google.maps.Animation.DROP,
                label: {
                    text: district.district,
                    color: 'white',
                    fontWeight: 'bold',
                    fontSize: '12px'
                },
                icon: {
                    path: google.maps.SymbolPath.CIRCLE,
                    fillColor: '#d73027',
                    fillOpacity: 0.8,
                    strokeColor: 'white',
                    strokeWeight: 2,
                    scale: 15
                }
            });

            // Info ablak l√©trehoz√°sa
            const infoWindow = new google.maps.InfoWindow({
                content: `
                    <div style="padding: 10px; text-align: center;">
                        <h4 style="margin: 0 0 5px 0; color: #d73027;">
                            ${district.district} ker√ºlet
                        </h4>
                        <p style="margin: 0 0 5px 0; font-weight: bold;">
                            ${district.name}
                        </p>
                        <small style="color: #666;">
                            ${district.lat.toFixed(4)}, ${district.lng.toFixed(4)}
                        </small>
                    </div>
                `
            });

            // Kattint√°s esem√©ny
            marker.addListener('click', () => {
                // √ñsszes m√°s info ablak bez√°r√°sa
                markers.forEach(m => m.infoWindow.close());
                
                infoWindow.open(map, marker);
                
                // Ker√ºlet kiemel√©se a list√°ban
                highlightDistrict(index);
            });

            // Marker √©s info ablak t√°rol√°sa
            marker.infoWindow = infoWindow;
            markers.push(marker);
        }

        // Ker√ºletek list√°j√°nak felt√∂lt√©se
        function populateDistrictsList() {
            const grid = document.getElementById('districtsGrid');
            
            budapestDistricts.forEach((district, index) => {
                const item = document.createElement('div');
                item.className = 'district-item';
                item.innerHTML = `
                    <strong>${district.district}</strong><br>
                    <small>${district.name}</small>
                `;
                
                // Kattint√°sra a t√©rk√©pen a megfelel≈ë jel√∂l≈ëre ugrik
                item.addEventListener('click', () => {
                    map.setCenter({ lat: district.lat, lng: district.lng });
                    map.setZoom(14);
                    
                    // Info ablak megnyit√°sa
                    markers.forEach(m => m.infoWindow.close());
                    markers[index].infoWindow.open(map, markers[index]);
                    
                    highlightDistrict(index);
                });
                
                grid.appendChild(item);
            });
        }

        // Ker√ºlet kiemel√©se a list√°ban
        function highlightDistrict(index) {
            const items = document.querySelectorAll('.district-item');
            items.forEach(item => item.style.borderColor = '#ddd');
            items[index].style.borderColor = '#d73027';
        }

        // Alternat√≠v megold√°s API kulcs n√©lk√ºl - OpenStreetMap haszn√°lata
        function initMapWithoutAPI() {
            const mapDiv = document.getElementById('map');
            mapDiv.innerHTML = `
                <iframe 
                    width="100%" 
                    height="600" 
                    style="border:0" 
                    src="https://www.openstreetmap.org/export/embed.html?bbox=18.9,47.35,19.3,47.65&layer=mapnik&marker=47.4979,19.0402"
                    allowfullscreen>
                </iframe>
                <div style="position: absolute; top: 10px; left: 10px; background: rgba(255,255,255,0.9); padding: 10px; border-radius: 5px;">
                    <strong>Budapest t√©rk√©pe</strong><br>
                    <small>OpenStreetMap alap√∫ n√©zet</small>
                </div>
            `;
        }

        // T√©rk√©p inicializ√°l√°sa
        window.initMap = initMap;

        // Ha 5 m√°sodperc ut√°n sem t√∂lt≈ëd√∂tt be a Google Maps, akkor alternat√≠v megold√°st haszn√°lunk
        setTimeout(() => {
            if (typeof google === 'undefined') {
                console.log('Google Maps API nem el√©rhet≈ë, OpenStreetMap haszn√°lata...');
                initMapWithoutAPI();
            }
        }, 5000);
    </script>

    <!-- Google Maps JavaScript API (ingyenes API kulcs sz√ºks√©ges a teljes funkcionalit√°shoz) -->
    <script async defer
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB41DRUbKWJHPxaFjMAwdrzWzbVKartNGg&callback=initMap">
    </script>
</body>
</html>